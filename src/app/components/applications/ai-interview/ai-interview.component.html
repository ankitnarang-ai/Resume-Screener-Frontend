<div class="ai-interview-container">
  <!-- Header Section -->
  <div class="ai-header">
    <h1>AI Voice Interview</h1>
    <p>Professional AI-powered voice interview experience</p>
  </div>

  <!-- Main Content -->
  <div class="content">
    <!-- Left: Interview Panel -->
    <div class="main-interview-section">
      <h2>Voice Interview Panel</h2>
      <p class="subtitle">Interact with the virtual interviewer</p>

      <!-- Avatar -->
      <div class="interviewer-avatar" [class.listening]="isListening">
        <div class="avatar-icon">
          <img src="https://res.cloudinary.com/dm2wxjddh/image/upload/v1752394338/robo-aiinterview_cjy3az.png" alt="Interviewer Avatar" />
        </div>
      </div>

      <!-- Status -->
      <div class="interviewer-status">
        <div class="status-text">{{ statusText }}</div>
      </div>

      <!-- Controls -->
      <div class="voice-controls">
        <button class="voice-btn start-voice-btn" *ngIf="!isListening" (click)="startVoiceInterview()">
          <mat-icon>mic</mat-icon>
          Start Voice Interview
        </button>
        <button class="voice-btn stop-voice-btn" *ngIf="isListening" (click)="stopVoiceInterview()">
          <mat-icon>stop</mat-icon>
          Stop Interview
        </button>
      </div>
    </div>

    <!-- Right: Transcript Panel -->
    <div class="chat-transcript-section">
      <h3><mat-icon>chat</mat-icon> Interview Transcript</h3>

      <div class="chat-messages" id="chatMessages">
        <div 
          class="message" 
          *ngFor="let message of chatMessages"
          [class.user]="message.type === 'user'"
          [class.ai]="message.type === 'ai'">
          <div>{{ message.message }}</div>
          <div class="message-time">{{ message.timestamp | date:'shortTime' }}</div>
        </div>

        <!-- Typing -->
        <div class="typing-indicator" *ngIf="isTyping">
          <div class="typing-dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
          </div>
          <span>AI is typing...</span>
        </div>
      </div>

      <button class="clear-chat-btn" (click)="clearChat()">Clear Transcript</button>
    </div>
  </div>
</div>
