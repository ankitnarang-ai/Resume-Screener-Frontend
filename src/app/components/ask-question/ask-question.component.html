<div class="chat-area">
  <!-- Suggestions (show when no messages) -->
  @if (messages.length === 0) {
    <div class="suggestions">
      <div class="suggestions-text">Here are some things you can ask about your uploaded resumes:</div>
      <div class="suggestions-grid">
        @for (suggestion of suggestionQuestions; track suggestion) {
          <button 
            class="suggestion-btn"
            (click)="useSuggestion(suggestion)"
          >
            {{ suggestion }}
          </button>
        }
      </div>
    </div>
  }
  
  <!-- Messages -->
  <div class="messages-container">
    @for (message of messages; track message.id) {
      <div class="message" [class]="message.role">
        <div class="avatar">
          @if (message.role === 'user') {
            ðŸ‘¤
          } @else {
            ðŸ¤–
          }
        </div>
        <div class="message-content">
          <div class="message-text" [innerHTML]="message.content"></div>
        </div>
      </div>
    }
    
    <!-- Loading indicator -->
    @if (isLoading) {
      <div class="message assistant">
        <div class="avatar">ðŸ¤–</div>
        <div class="message-content">
          <div class="typing-indicator">
            Analyzing resumes
            <div class="dots">
              <div class="dot"></div>
              <div class="dot"></div>
              <div class="dot"></div>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
</div>

<!-- Input Area -->
<div class="input-form">
  <div class="input-wrapper">
    <textarea
      class="message-input"
      [(ngModel)]="currentMessage"
      placeholder="Ask a question about the uploaded resumes..."
      rows="1"
      (keydown)="onKeyDown($event)"
      #messageInput
    ></textarea>
    <button
      class="send-button"
      (click)="sendMessage()"
      [disabled]="!currentMessage.trim() || isLoading"
    >
      @if (isLoading) {
        <span class="spinner"></span>
      } @else {
        <span class="icon">â†‘</span>
      }
    </button>
  </div>
</div>